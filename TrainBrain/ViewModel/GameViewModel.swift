//
//  GameViewModel.swift
//  TrainBrain
//
//  Created by JeongminKim on 2021/07/13.
//

import SwiftUI

class GameViewModel: ObservableObject {
    typealias Card = GameModel<String>.Card
    private static let level1: [String] = [
        "ğŸ", "ğŸ", "ğŸ", "ğŸŠ", "ğŸ‹", "ğŸŒ", "ğŸ‰", "ğŸ‡", "ğŸ“", "ğŸ«",
        "ğŸˆ", "ğŸ’", "ğŸ‘", "ğŸ¥­", "ğŸ", "ğŸ¥¥", "ğŸ¥", "ğŸ…", "ğŸ†", "ğŸ¥‘",
        "ğŸ¥¦", "ğŸ¥¬", "ğŸ¥’", "ğŸŒ¶", "ğŸ«‘", "ğŸŒ½", "ğŸ¥•", "ğŸ«’", "ğŸ§„", "ğŸ§…"
    ]
    private static let level2: [String] = [
        "ğŸ¶", "ğŸ±", "ğŸ­", "ğŸ¹", "ğŸ°", "ğŸ¦Š", "ğŸ»", "ğŸ¼", "ğŸ»â€â„ï¸", "ğŸ¨",
        "ğŸ¯", "ğŸ¦", "ğŸ®", "ğŸ·", "ğŸ¸", "ğŸµ", "ğŸ”", "ğŸ§", "ğŸ¦", "ğŸ¤",
        "ğŸ¦†", "ğŸ¦…", "ğŸ¦‰", "ğŸ¦‡", "ğŸº", "ğŸ—", "ğŸ´", "ğŸ¦„", "ğŸ", "ğŸª±",
        "ğŸ›", "ğŸ¦‹", "ğŸŒ", "ğŸ", "ğŸœ", "ğŸª°", "ğŸª²", "ğŸª³", "ğŸ¦Ÿ", "ğŸ¦—",
        "ğŸ•·", "ğŸ¦‚", "ğŸ¢", "ğŸ", "ğŸ¦", "ğŸ¦–", "ğŸ¦•", "ğŸ™", "ğŸ¦‘", "ğŸ¦",
        "ğŸ¦", "ğŸ¦€", "ğŸ¡", "ğŸ ", "ğŸŸ", "ğŸ¬", "ğŸ³", "ğŸ‹", "ğŸ¦ˆ", "ğŸ¦­"
    ]
    private static let level3: [String] = [
        "ğŸ³ï¸", "ğŸ´", "ğŸ´â€â˜ ï¸", "ğŸ", "ğŸš©", "ğŸ³ï¸â€ğŸŒˆ", "ğŸ³ï¸â€âš§ï¸", "ğŸ‡ºğŸ‡³", "ğŸ‡¬ğŸ‡­", "ğŸ‡¬ğŸ‡¦",
        "ğŸ‡¬ğŸ‡¾", "ğŸ‡¬ğŸ‡²", "ğŸ‡¬ğŸ‡¬", "ğŸ‡¬ğŸ‡º", "ğŸ‡¬ğŸ‡µ", "ğŸ‡¬ğŸ‡¹", "ğŸ‡¬ğŸ‡©", "ğŸ‡¬ğŸ‡·", "ğŸ‡¬ğŸ‡±", "ğŸ‡¬ğŸ‡³",
        "ğŸ‡¬ğŸ‡¼", "ğŸ‡³ğŸ‡¦", "ğŸ‡³ğŸ‡·", "ğŸ‡³ğŸ‡¬", "ğŸ‡¦ğŸ‡¶", "ğŸ‡¸ğŸ‡¸", "ğŸ‡¿ğŸ‡¦", "ğŸ‡³ğŸ‡±", "ğŸ‡§ğŸ‡¶", "ğŸ‡³ğŸ‡µ",
        "ğŸ‡³ğŸ‡´", "ğŸ‡³ğŸ‡«", "ğŸ‡³ğŸ‡¿", "ğŸ‡³ğŸ‡¨", "ğŸ‡³ğŸ‡º", "ğŸ‡³ğŸ‡ª", "ğŸ‡³ğŸ‡®", "ğŸ‡¹ğŸ‡¼", "ğŸ‡°ğŸ‡·", "ğŸ‡©ğŸ‡°",
        "ğŸ‡©ğŸ‡²", "ğŸ‡©ğŸ‡´", "ğŸ‡©ğŸ‡ª", "ğŸ‡¹ğŸ‡±", "ğŸ‡±ğŸ‡¦", "ğŸ‡±ğŸ‡·", "ğŸ‡±ğŸ‡»", "ğŸ‡·ğŸ‡º", "ğŸ‡±ğŸ‡§", "ğŸ‡±ğŸ‡¸",
        "ğŸ‡·ğŸ‡´", "ğŸ‡±ğŸ‡º", "ğŸ‡·ğŸ‡¼", "ğŸ‡±ğŸ‡¾", "ğŸ‡·ğŸ‡ª", "ğŸ‡±ğŸ‡¹", "ğŸ‡±ğŸ‡®", "ğŸ‡²ğŸ‡¬", "ğŸ‡²ğŸ‡¶", "ğŸ‡²ğŸ‡­",
        "ğŸ‡¾ğŸ‡¹", "ğŸ‡²ğŸ‡´", "ğŸ‡²ğŸ‡¼", "ğŸ‡²ğŸ‡¾", "ğŸ‡²ğŸ‡±", "ğŸ‡®ğŸ‡²", "ğŸ‡²ğŸ‡½", "ğŸ‡²ğŸ‡¨", "ğŸ‡²ğŸ‡¦", "ğŸ‡²ğŸ‡º",
        "ğŸ‡²ğŸ‡·", "ğŸ‡²ğŸ‡¿", "ğŸ‡²ğŸ‡ª", "ğŸ‡²ğŸ‡¸", "ğŸ‡²ğŸ‡©", "ğŸ‡²ğŸ‡»", "ğŸ‡²ğŸ‡¹", "ğŸ‡²ğŸ‡³", "ğŸ‡ºğŸ‡¸", "ğŸ‡»ğŸ‡®",
        "ğŸ‡²ğŸ‡²", "ğŸ‡«ğŸ‡²", "ğŸ‡»ğŸ‡º", "ğŸ‡§ğŸ‡­", "ğŸ‡§ğŸ‡§", "ğŸ‡»ğŸ‡¦", "ğŸ‡§ğŸ‡¸", "ğŸ‡§ğŸ‡©", "ğŸ‡§ğŸ‡²", "ğŸ‡§ğŸ‡¯",
        "ğŸ‡»ğŸ‡ª", "ğŸ‡»ğŸ‡³", "ğŸ‡§ğŸ‡ª", "ğŸ‡§ğŸ‡¾", "ğŸ‡§ğŸ‡¿", "ğŸ‡§ğŸ‡¦", "ğŸ‡§ğŸ‡¼", "ğŸ‡§ğŸ‡´", "ğŸ‡§ğŸ‡®", "ğŸ‡§ğŸ‡«",
        "ğŸ‡§ğŸ‡¹", "ğŸ‡²ğŸ‡µ", "ğŸ‡²ğŸ‡°", "ğŸ‡°ğŸ‡µ", "ğŸ‡§ğŸ‡¬", "ğŸ‡§ğŸ‡·", "ğŸ‡§ğŸ‡³", "ğŸ‡¼ğŸ‡¸", "ğŸ‡¸ğŸ‡¦", "ğŸ‡¬ğŸ‡¸",
        "ğŸ‡¸ğŸ‡²", "ğŸ‡¸ğŸ‡¹", "ğŸ‡§ğŸ‡±", "ğŸ‡µğŸ‡²", "ğŸ‡ªğŸ‡­", "ğŸ‡¸ğŸ‡³", "ğŸ‡·ğŸ‡¸", "ğŸ‡¸ğŸ‡¨", "ğŸ‡±ğŸ‡¨", "ğŸ‡»ğŸ‡¨",
        "ğŸ‡°ğŸ‡³", "ğŸ‡¸ğŸ‡­", "ğŸ‡¸ğŸ‡´", "ğŸ‡¸ğŸ‡§", "ğŸ‡¸ğŸ‡©", "ğŸ‡¸ğŸ‡·", "ğŸ‡±ğŸ‡°", "ğŸ‡¸ğŸ‡ª", "ğŸ‡¨ğŸ‡­", "ğŸ‡ªğŸ‡¸",
        "ğŸ‡¸ğŸ‡°", "ğŸ‡¸ğŸ‡®", "ğŸ‡¸ğŸ‡¾", "ğŸ‡¸ğŸ‡±", "ğŸ‡¸ğŸ‡½", "ğŸ‡¸ğŸ‡¬", "ğŸ‡¦ğŸ‡ª", "ğŸ‡¦ğŸ‡¼", "ğŸ‡¦ğŸ‡²", "ğŸ‡¦ğŸ‡·",
        "ğŸ‡¦ğŸ‡¸", "ğŸ‡®ğŸ‡¸", "ğŸ‡­ğŸ‡¹", "ğŸ‡®ğŸ‡ª", "ğŸ‡¦ğŸ‡¿", "ğŸ‡¦ğŸ‡«", "ğŸ‡¦ğŸ‡©", "ğŸ‡¦ğŸ‡±", "ğŸ‡©ğŸ‡¿", "ğŸ‡¦ğŸ‡´",
        "ğŸ‡¦ğŸ‡¬", "ğŸ‡¦ğŸ‡®", "ğŸ‡ªğŸ‡·", "ğŸ‡¸ğŸ‡¿", "ğŸ‡ªğŸ‡ª", "ğŸ‡ªğŸ‡¨", "ğŸ‡ªğŸ‡¹", "ğŸ‡¸ğŸ‡»", "ğŸ‡¬ğŸ‡§", "ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿",
        "ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿", "ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿", "ğŸ‡»ğŸ‡¬", "ğŸ‡¾ğŸ‡ª", "ğŸ‡´ğŸ‡²", "ğŸ‡¦ğŸ‡º", "ğŸ‡¦ğŸ‡¹", "ğŸ‡­ğŸ‡³", "ğŸ‡¦ğŸ‡½", "ğŸ‡¼ğŸ‡«",
        "ğŸ‡¯ğŸ‡´", "ğŸ‡ºğŸ‡¬", "ğŸ‡ºğŸ‡¾", "ğŸ‡ºğŸ‡¿", "ğŸ‡ºğŸ‡¦", "ğŸ‡ªğŸ‡º", "ğŸ‡®ğŸ‡¶", "ğŸ‡®ğŸ‡·", "ğŸ‡®ğŸ‡±", "ğŸ‡ªğŸ‡¬",
        "ğŸ‡®ğŸ‡¹", "ğŸ‡®ğŸ‡³", "ğŸ‡®ğŸ‡©", "ğŸ‡¯ğŸ‡µ", "ğŸ‡¯ğŸ‡²", "ğŸ‡¿ğŸ‡²", "ğŸ‡¯ğŸ‡ª", "ğŸ‡¬ğŸ‡¶", "ğŸ‡¬ğŸ‡ª", "ğŸ‡¨ğŸ‡³",
        "ğŸ‡¨ğŸ‡«", "ğŸ‡©ğŸ‡¯", "ğŸ‡¬ğŸ‡®", "ğŸ‡¿ğŸ‡¼", "ğŸ‡®ğŸ‡´", "ğŸ‡¹ğŸ‡©", "ğŸ‡¨ğŸ‡¿", "ğŸ‡¨ğŸ‡±", "ğŸ‡®ğŸ‡¨", "ğŸ‡¨ğŸ‡²",
        "ğŸ‡¨ğŸ‡»", "ğŸ‡°ğŸ‡¿", "ğŸ‡¶ğŸ‡¦", "ğŸ‡°ğŸ‡­", "ğŸ‡¨ğŸ‡¦", "ğŸ‡°ğŸ‡ª", "ğŸ‡°ğŸ‡¾", "ğŸ‡°ğŸ‡²", "ğŸ‡½ğŸ‡°", "ğŸ‡¨ğŸ‡·",
        "ğŸ‡¨ğŸ‡¨", "ğŸ‡¨ğŸ‡®", "ğŸ‡¨ğŸ‡´", "ğŸ‡¨ğŸ‡¬", "ğŸ‡¨ğŸ‡©", "ğŸ‡¨ğŸ‡º", "ğŸ‡°ğŸ‡¼", "ğŸ‡¨ğŸ‡°", "ğŸ‡¨ğŸ‡¼", "ğŸ‡­ğŸ‡·",
        "ğŸ‡¨ğŸ‡½", "ğŸ‡°ğŸ‡¬", "ğŸ‡°ğŸ‡®", "ğŸ‡¨ğŸ‡¾", "ğŸ‡¹ğŸ‡¯", "ğŸ‡¹ğŸ‡¿", "ğŸ‡¹ğŸ‡­", "ğŸ‡¹ğŸ‡¨", "ğŸ‡¹ğŸ‡·", "ğŸ‡¹ğŸ‡¬",
        "ğŸ‡¹ğŸ‡°", "ğŸ‡¹ğŸ‡´", "ğŸ‡¹ğŸ‡²", "ğŸ‡¹ğŸ‡»", "ğŸ‡¹ğŸ‡³", "ğŸ‡¹ğŸ‡¹", "ğŸ‡µğŸ‡¦", "ğŸ‡µğŸ‡¾", "ğŸ‡µğŸ‡°", "ğŸ‡µğŸ‡¬",
        "ğŸ‡µğŸ‡¼", "ğŸ‡µğŸ‡¸", "ğŸ‡«ğŸ‡´", "ğŸ‡µğŸ‡ª", "ğŸ‡µğŸ‡¹", "ğŸ‡«ğŸ‡°", "ğŸ‡µğŸ‡±", "ğŸ‡µğŸ‡·", "ğŸ‡«ğŸ‡·", "ğŸ‡¹ğŸ‡«",
        "ğŸ‡¬ğŸ‡«", "ğŸ‡µğŸ‡«", "ğŸ‡«ğŸ‡¯", "ğŸ‡«ğŸ‡®", "ğŸ‡µğŸ‡­", "ğŸ‡µğŸ‡³", "ğŸ‡­ğŸ‡º", "ğŸ‡­ğŸ‡°"
    ]
    private static let level4: [String] = [
        "ğŸ˜¡", "ğŸ¤¬", "ğŸ¤¯", "ğŸ¥µ", "ğŸ¥¶", "ğŸ˜¶â€ğŸŒ«ï¸", "ğŸ˜±", "ğŸ˜¨", "ğŸ˜°", "ğŸ¤¢",
        "ğŸ¤®", "ğŸ˜ˆ", "ğŸ‘¿", "ğŸ‘¹", "ğŸ‘º", "ğŸ¤¡", "ğŸ’©", "ğŸ‘»", "ğŸ’€", "â˜ ï¸",
        "ğŸ‘½", "ğŸ‘¾", "ğŸ¤–", "ğŸƒ", "ğŸ˜º", "ğŸ˜¸", "ğŸ˜¹", "ğŸ˜»", "ğŸ˜¼", "ğŸ˜½",
        "ğŸ™€", "ğŸ˜¿", "ğŸ˜¾"
    ]
    private static let level5: [String] = [
        "ğŸ˜€", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜", "ğŸ˜†", "ğŸ˜…", "ğŸ˜‚", "ğŸ¤£", "ğŸ¥²", "â˜ºï¸",
        "ğŸ˜Š", "ğŸ˜‡", "ğŸ™‚", "ğŸ™ƒ", "ğŸ˜‰", "ğŸ˜Œ", "ğŸ˜", "ğŸ¥°", "ğŸ˜˜", "ğŸ˜—",
        "ğŸ˜™", "ğŸ˜š", "ğŸ˜‹", "ğŸ˜›", "ğŸ˜", "ğŸ˜œ", "ğŸ¤ª", "ğŸ¤¨", "ğŸ§", "ğŸ¤“",
        "ğŸ˜", "ğŸ¥¸", "ğŸ¤©", "ğŸ¥³", "ğŸ˜", "ğŸ˜’", "ğŸ˜", "ğŸ˜”", "ğŸ˜Ÿ", "ğŸ˜•",
        "ğŸ™", "â˜¹ï¸", "ğŸ˜£", "ğŸ˜–", "ğŸ˜«", "ğŸ˜©", "ğŸ¥º", "ğŸ˜¢", "ğŸ˜­", "ğŸ˜¤",
        "ğŸ˜ ", "ğŸ˜³", "ğŸ˜¥", "ğŸ˜“", "ğŸ¤—", "ğŸ¤”", "ğŸ¤­", "ğŸ¤«", "ğŸ¤¥", "ğŸ˜¶",
        "ğŸ˜", "ğŸ˜‘", "ğŸ˜¬", "ğŸ™„", "ğŸ˜¯", "ğŸ˜¦", "ğŸ˜§", "ğŸ˜®", "ğŸ˜²", "ğŸ¥±",
        "ğŸ˜´", "ğŸ¤¤", "ğŸ˜ª", "ğŸ˜®â€ğŸ’¨", "ğŸ˜µ", "ğŸ˜µâ€ğŸ’«", "ğŸ¤", "ğŸ¥´", "ğŸ˜·", "ğŸ¤’",
        "ğŸ¤§", "ğŸ¤•", "ğŸ¤‘", "ğŸ¤ "
    ]
    private static var emojis: [String] {
        switch GameManager.gameLevel {
        case 0:
            return level1
        case 1:
            return level1
        case 2:
            return level2
        case 3:
            return level3
        case 4:
            return level4
        case 5:
            return level5
        default:
            return level1
        }
    }
    
    private static func createGame() -> GameModel<String> {
        // numberOfPairsOfCards = ë§¤ì¹­ ì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¹´ë“œ ìŒì˜ ê°œìˆ˜
        return GameModel<String>(numberOfPairsOfCards: GameManager.numOfPairs) { pairIndex in
            emojis[pairIndex]
        }
    }
    
    @Published private var model: GameModel<String> = createGame()
    
    var cards: [Card] {
        return model.cards
    }
    
    // MARK: - Intent(s)
    func choose(_ card: Card) {
        model.choose(card)
    }
    
    func shuffle() {
        model.shuffle()
    }
    
    func restart() {
        model = GameViewModel.createGame()
    }
}
